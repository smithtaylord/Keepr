import{_ as b,w as f,c as i,P as d,v as m,a as o,b as t,t as n,i as u,F as g,r as w,u as y,j as x,A as _,o as a,e as k,p as V,m as K,f as I,n as S}from"./index.6dab9ed6.js";const C={setup(){const s=y(),c=x();async function v(){try{await m.getVault(s.params.vaultId)}catch(l){d.error(l,"[get vault]"),c.push({name:"Home"})}}async function e(){try{await S.getVaultKeeps(s.params.vaultId)}catch(l){d.error(l,"[get vault keeps]")}}return f(()=>{s.params.vaultId&&(v(),e())}),{vault:i(()=>_.vault),vaultKeeps:i(()=>_.vaultKeeps),account:i(()=>_.account),async deleteVault(){try{await d.confirm("Are you sure you want to remove your vault?")&&(await m.deleteVault(s.params.vaultId),d.toast("Vault has been deleted","success","top-end",3e3),c.push({name:"Home"}))}catch(l){d.error(l,"[delete vault]")}}}}},p=s=>(V("data-v-9bc03685"),s=s(),K(),s),P={key:0,class:"container-fluid"},A={class:"row"},B={class:"col-12 col-md-4 m-auto"},N={class:"position-relative"},q=["src","alt"],E={class:"position-absolute bottom-0 w-100"},F={class:"text-center pb-md-3"},H={class:"text-light text-shadow font-q"},R={class:"text-light text-shadow font-q fs-5"},j={key:0,class:"position-absolute top-0 end-0"},z=p(()=>t("div",{class:"text-end mt-4 me-2"},[t("i",{class:"mdi mdi-lock text-light text-shadow fs-3"})],-1)),D=[z],L={key:0,class:"text-end px-2 dropdown"},G=p(()=>t("i",{class:"mdi mdi-dots-horizontal text-dark selectable fs-3",title:"edit or delete vault","data-bs-toggle":"dropdown"},null,-1)),J={class:"dropdown-menu bg-secondary fw-bold font-o fs-4 p-0"},M=p(()=>t("li",{class:"text-center selectable border-dark border-bottom pb-1 pt-1","data-bs-toggle":"modal","data-bs-target":"#edit-vault"},"edit vault",-1)),O={class:"row"},Q={class:"col-6 col-md-4 m-auto"},T={class:"text-center mt-3"},U={key:0,class:"keeps-count bg-secondary font-o fs-4 fw-bold p-1"},W={key:1,class:"keeps-count bg-secondary font-o fs-4 fw-bold p-1"},X={class:"row"},Y={class:"col-12 col-md-8 m-auto"},Z={class:"bricks"};function $(s,c,v,e,l,tt){const h=I("KeepsCard");return e.vault?(a(),o("div",P,[t("div",A,[t("div",B,[t("div",N,[t("div",null,[t("img",{class:"vault-pic img-fluid rounded mt-4",src:e.vault.img,alt:e.vault.name},null,8,q)]),t("div",E,[t("div",F,[t("h1",H,n(e.vault.name),1),t("p",R,"by "+n(e.vault.creator.name),1)])]),e.vault.isPrivate?(a(),o("div",j,D)):u("",!0)]),e.vault.creatorId==e.account.id?(a(),o("div",L,[G,t("ul",J,[M,t("li",{onClick:c[0]||(c[0]=(...r)=>e.deleteVault&&e.deleteVault(...r)),class:"text-center selectable pt-1 bg-danger pb-1 rounded-bottom"}," delete vault")])])):u("",!0),t("div",O,[t("div",Q,[t("div",T,[e.vaultKeeps.length==1?(a(),o("p",U,n(e.vaultKeeps.length)+" Keep",1)):(a(),o("p",W,n(e.vaultKeeps.length)+" Keeps ",1))])])])])]),t("div",X,[t("div",Y,[t("section",Z,[(a(!0),o(g,null,w(e.vaultKeeps,r=>(a(),o("div",null,[k(h,{keep:r},null,8,["keep"])]))),256))])])])])):u("",!0)}const st=b(C,[["render",$],["__scopeId","data-v-9bc03685"]]);export{st as default};
